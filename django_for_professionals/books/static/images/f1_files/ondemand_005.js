(window.webpackJsonp=window.webpackJsonp||[]).push([[182],{"1Cz6":function(e,t,n){"use strict";var r=n("ERkP"),o=n("t62R"),s=n("MAI/"),i=n("3XMw"),a=n.n(i),l=n("cm6r"),c=n("cHvH"),d=n("Wd7d"),u=n("rHpw"),p=n("U+bB"),m=n("MWbm");const h=e=>{const{children:t,context:n,onFacepilesClick:i,onFacepilesImpression:h,imageSrc:b,knownFollowers:f,subtitle:g,title:_,withAdditionalControls:E}=e,{firstUsername:C,knownFollowersAvatarUrls:y,trendingFollowersUrl:S,usersCount:k}=f||{},v=f&&f.knownFollowersAvatarUrls.length>3;r.useEffect((()=>{v&&h&&h()}),[v,h]);const x=b?r.createElement(p.a,{source:b,style:w.iconCustom}):null,F=n?r.createElement(m.a,{style:E?w.condensedContextV2:w.condensedContext},r.createElement(o.c,{align:"left",color:"gray600",numberOfLines:3,size:"small"},n),r.createElement(m.a,{style:E?w.buttonTopMargin:[w.buttonBottomMargin,w.buttonLeftMargin]},t)):null,A=r.createElement(c.a,null,(({windowWidth:e})=>{const n=d.a.isNarrowScreenWidth(e)?"xLarge":"xxLarge",c=e<u.a.theme.breakpoints.xSmall?w.buttonWrap:void 0,p=E?w.facepileV2:null;return r.createElement(m.a,{style:E?null:[w.knownFollowersContainer,c]},r.createElement(l.a,{interactiveStyles:null,link:S,onPress:i,style:E?w.interactiveStyleV2:w.interactiveStyle},(({isHovered:e})=>r.createElement(r.Fragment,null,r.createElement(s.a,{style:[w.facepile,p],userAvatarSize:n,userAvatarUrls:y}),r.createElement(o.c,{color:"gray600",dir:"ltr",numberOfLines:2,size:"small",style:[e&&w.underline]},((e,t)=>r.createElement(a.a.I18NFormatMessage,{$i18n:"bb2cd6d3"},e,t))(C,k))))),(e=>{const n=e<u.a.theme.breakpoints.xSmall?w.buttonBottomMargin:[w.buttonBottomMargin,w.buttonLeftMargin];return E?[t]:r.createElement(m.a,{style:n},t)})(e))})),I=f&&v?A:F;return r.createElement(r.Fragment,null,x,r.createElement(o.c,{color:"normal",size:"jumbo",weight:"heavy"},_),g?r.createElement(o.c,{color:"gray600",size:"small",weight:"bold"},g):null,I)};h.defaultProps={withAdditionalControls:!1};const w=u.a.create((e=>({buttonBottomMargin:{marginBottom:e.spaces.space16},buttonLeftMargin:{marginLeft:e.spaces.space20},buttonTopMargin:{marginTop:e.spaces.space20},buttonWrap:{flexWrap:"wrap-reverse"},condensedContext:{marginTop:e.spaces.space16,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},condensedContextV2:{marginTop:e.spaces.space16},iconCustom:{alignSelf:"flex-start",borderRadius:e.borderRadii.infinite,height:e.spaces.space32,width:e.spaces.space32,marginTop:e.spaces.space8,marginBottom:e.spaces.space8},facepile:{marginBottom:e.spaces.space16,alignSelf:"flex-start"},facepileV2:{marginRight:e.spaces.space8,marginTop:e.spaces.space16},interactiveStyle:{flexShrink:1},interactiveStyleV2:{flexDirection:"row",alignItems:"center"},knownFollowersContainer:{marginTop:e.spaces.space16,marginBottom:e.spaces.space16,flexDirection:"row",justifyContent:"space-between",flexGrow:1,flexShrink:1},underline:{textDecorationLine:"underline"}})));t.a=h},K0xN:function(e,t,n){"use strict";n.r(t),n.d(t,"TopicHeader",(function(){return L}));var r=n("KEM+"),o=n.n(r),s=(n("kYxP"),n("ERkP")),i=n("Qyxo"),a=n("rxPX"),l=n("0KEI"),c=n("Zejx"),d=n("G6rE");const u=(e,t)=>c.a.select(e,t.topicId),p=(e,t)=>{const n=((e,t)=>{var n;return d.e.selectMany(e,(null==(n=t.facepile)?void 0:n.userIds)||[])})(e,t);return Object(i.a)(n,(e=>!e||e.blocking||e.muting?void 0:e))};var m=Object(a.a)().propsFromState((()=>({topic:u,users:p}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(l.d)("TOPIC_HEADER"),follow:c.a.follow,unfollow:c.a.unfollow,undoTopicNotInterested:c.a.undoNotInterested}))).withAnalytics(),h=n("LWCC"),w=n("3XMw"),b=n.n(w),f=n("Tp1h"),g=n("YICZ"),_=n("vYiB"),E=n("caTy"),C=n("Jkc4"),y=n("xM7j"),S=n("MWbm"),k=n("v6aA"),v=n("1Cz6"),x=n("cHvH"),F=n("Wd7d"),A=n("rHpw");const I=b.a.b1850062,U=b.a.d69b2d90,N=b.a.gf5e9ea6;class L extends s.Component{constructor(...e){super(...e),o()(this,"_additionalControlsEnabled",this.context.featureSwitches.isTrue("topic_landing_page_clearer_controls_enabled")),o()(this,"_handleUndoTopicNotInterested",(()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())})),o()(this,"_handleOnFollow",(()=>{const{analytics:e,createLocalApiErrorHandler:t,follow:n,topicId:r}=this.props;n(r).catch(t()),e.scribeAction("follow")})),o()(this,"_handleOnUnfollow",(()=>{const{analytics:e,createLocalApiErrorHandler:t,topicId:n,unfollow:r}=this.props;r(n).catch(t()),e.scribeAction("unfollow")})),o()(this,"_handleOnClickFacepiles",(()=>{this._scribeAction({element:"facepile",action:"click"})})),o()(this,"_handleFacepilesImpression",(()=>{this._scribeAction({element:"facepile",action:"impression"})}))}render(){const{facepile:e,onFollowHeaderOffscreen:t,topic:n,topicLandingContext:r,users:o}=this.props,{description:i,name:a,icon_url:l}=n||{},c=o.slice(0,4).map((e=>e.profile_image_url_https)),d=(null==e?void 0:e.facepileUrl)&&Object(E.b)(e.facepileUrl),u=o&&o.length>3?{firstUsername:o[0].name||"",usersCount:o.length-1,knownFollowersAvatarUrls:c,trendingFollowersUrl:d||""}:void 0,p=l&&this.context.featureSwitches.isTrue("topic_icons_enabled")?l:void 0;return n?s.createElement(S.a,{style:T.root},s.createElement(C.a,{customText:a,displayMode:f.a.topic},(e=>s.createElement(_.a,{onOffscreenChange:t},s.createElement(v.a,{children:this._renderTopicActions(),context:r,imageSrc:p,knownFollowers:u,onFacepilesClick:this._handleOnClickFacepiles,onFacepilesImpression:this._handleFacepilesImpression,subtitle:i,title:a,withAdditionalControls:this._additionalControlsEnabled}))))):null}_renderTopicActions(){const{topic:e}=this.props;return e?s.createElement(x.a,null,(({windowWidth:t})=>{const n=F.a.isNarrowScreenWidth(t)?T.mainViewSmall:T.mainView,r=this._additionalControlsEnabled?F.a.isNarrowScreenWidth(t)?T.followButtonSmall:T.followButton:null,o=F.a.isNarrowScreenWidth(t)?T.notInterestButtonSmall:T.notInterestButton;return s.createElement(s.Fragment,null,e.not_interested&&this._additionalControlsEnabled?this._renderTopicContextTombstone():s.createElement(S.a,{style:n},this._additionalControlsEnabled&&!e.not_interested?s.createElement(g.a,{pullRight:!0,size:"normal",style:o,text:I,topicId:e.id,type:"secondary",withIconOnly:!1}):null,s.createElement(h.a,{showRelationshipChangeConfirmation:!0,size:"normal",style:r,topic:e,useDefaultText:!1})))})):null}_renderTopicContextTombstone(){return s.createElement(y.a,{actionText:N,children:U,inline:!0,onClick:this._handleUndoTopicNotInterested})}_scribeAction(e){const{analytics:t}=this.props;t.scribe(e)}}o()(L,"contextType",k.a);const T=A.a.create((e=>({root:{marginHorizontal:e.componentDimensions.gutterHorizontal,marginVertical:e.componentDimensions.gutterVertical},mainView:{flexDirection:"row",flexGrow:1},mainViewSmall:{flexWrap:"wrap"},notInterestButton:{justifyContent:"center",width:"50%",marginRight:e.spaces.space4},followButton:{justifyContent:"center",width:"50%",marginLeft:e.spaces.space4},followButtonSmall:{marginTop:e.spaces.space8,marginLeft:0,width:"100%"},notInterestButtonSmall:{width:"100%"}}))),P=m(L);t.default=P},ZQ2e:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("KEM+"),o=n.n(r),s=n("ERkP"),i=(n("kYxP"),n("t62R")),a=n("ir4X"),l=n("0PHd"),c=n("rHpw"),d=n("oSwX"),u=n("pBrB"),p=n("jV+4"),m=n("wCd/"),h=n("MWbm");class w extends s.PureComponent{constructor(...e){super(...e),o()(this,"_renderKnownFollowerSocialContext",(()=>{const{isAllowedToViewOptions:e,isLoggedIn:t,knownFollowers:n,userScreenName:r}=this.props,{avatarUrls:o,count:i,names:a}=n,{followersYouKnow:c}=e;return c&&t?s.createElement(h.a,{style:[b.marginTopXSmall,b.minHeight]},"number"==typeof i&&s.createElement(l.a,{knownFollowersAvatarUrls:o,knownFollowersCount:i,knownFollowersNames:a,userScreenName:r})):null}))}render(){return s.createElement(h.a,{style:b.root},this._renderUserAvatar(),s.createElement(h.a,{style:b.marginTopXXSmall},this._renderUserName(),this._renderHighlightedUserLabel()),this._renderErrorMessage(),this._renderUserDescription(),this._renderUserStats(),this._renderKnownFollowerSocialContext())}_renderUserAvatar(){const{followButton:e,isAllowedToViewOptions:t,isLoggedIn:n,onAvatarClick:r,promotedContent:o,userName:i,userScreenName:a,userAvatarUri:l}=this.props,{avatar:c,followButton:u,fullName:p}=t;return s.createElement(h.a,{style:b.row},s.createElement(d.default,{accessibilityHidden:!0,accessibilityLabel:p?i:a,onClick:r,promotedContent:o,screenName:a,size:"jumbo",uri:c?l:void 0,withLink:!0}),u&&n&&e?e:null)}_renderUserName(){const{isAllowedToViewOptions:e,isUserProtected:t,isUserVerified:n,onScreenNameClick:r,promotedContent:o,userName:i,userScreenName:a,userTranslatorType:l,userWithFollowsYou:c}=this.props,{badges:d,followIndicator:u,fullName:m}=e;return s.createElement(p.a,{badgeContext:"account",isProtected:d?t:void 0,isVerified:d?n:void 0,name:m?i:a,onLinkClick:r,promotedContent:o,screenName:a,translatorType:d?l:void 0,withFollowsYou:u&&c,withLink:!0,withStackedLayout:!0})}_renderHighlightedUserLabel(){const{isAllowedToViewOptions:e,userHighlightedLabel:t}=this.props,{label:n}=e;return n&&t?s.createElement(a.a,{label:t}):null}_renderErrorMessage(){const{errorMessage:e}=this.props;return e?s.createElement(h.a,{style:b.marginTopXXSmall},s.createElement(i.c,null,e)):null}_renderUserDescription(){const{isAllowedToViewOptions:e,userDescription:t,userWithheldDescription:n,userEntities:r,userWithheldEntities:o,userId:i}=this.props,{description:a}=e;return a&&t?s.createElement(h.a,{style:[b.row,b.marginTopXSmall]},s.createElement(u.a,{description:t,entities:r,userId:i,withheldDescription:n,withheldEntities:o})):null}_renderUserStats(){const{isAllowedToViewOptions:e,isUserStatsWithLink:t,onUserStatsPress:n,userScreenName:r,userFollowersCount:o,userFriendsCount:i}=this.props,{stats:a}=e;return a?s.createElement(h.a,{style:[b.row,b.marginTopXSmall]},s.createElement(m.a,{followersCount:o,friendsCount:i,onPress:n,screenName:r,withLink:t})):null}}const b=c.a.create((e=>({root:{padding:e.spaces.space16},row:{flexDirection:"row",justifyContent:"space-between"},marginTopXSmall:{marginTop:e.spaces.space12},marginTopXXSmall:{marginTop:e.spaces.space4},minHeight:{minHeight:e.spaces.space20}})));var f=n("3XMw");const g=n.n(f).a.ef633577;class _ extends s.PureComponent{render(){const{onAvatarClick:e,onScreenNameClick:t,userScreenName:n}=this.props,r={protected:!1,isUserStatsWithLink:!1,verified:!1,profile_image_url_https:"",description:"",entities:{},followers_count:0,friends_count:0,id_str:"",followed_by:!1};return s.createElement(w,{errorMessage:g,isAllowedToViewOptions:{avatar:!1,badges:!0,description:!1,followButton:!1,followIndicator:!0,followersYouKnow:!1,fullName:!1,label:!1,stats:!1},isLoggedIn:!1,isUserProtected:r.protected,isUserStatsWithLink:r.isUserStatsWithLink,isUserVerified:r.verified,knownFollowers:{avatarUrls:[],names:[]},onAvatarClick:e,onScreenNameClick:t,userAvatarUri:r.profile_image_url_https,userDescription:r.description,userEntities:r.entities,userFollowersCount:r.followers_count,userFriendsCount:r.friends_count,userId:r.id_str,userName:n,userScreenName:n,userWithFollowsYou:r.followed_by,userWithheldDescription:void 0,userWithheldEntities:void 0})}}class E extends s.PureComponent{render(){return s.createElement(w,this.props)}}o()(E,"Suspended",_)},ehWl:function(e,t,n){"use strict";n.r(t),n.d(t,"formatNumber",(function(){return M})),n.d(t,"ListDetail",(function(){return B}));var r=n("KEM+"),o=n.n(r),s=(n("kYxP"),n("ERkP")),i=n("iPch"),a=n("rxPX"),l=n("0KEI"),c=n("kHBp"),d=n("RqPI"),u=n("G6rE");const p=(e,t)=>{const{listId:n}=t;return n?c.a.select(e,n):void 0},m=(e,t)=>{const n=p(e,t),r=null==n?void 0:n.user;return r?u.e.select(e,r):void 0},h=(e,t)=>i.h(e,t.listId);var w=Object(a.a)().propsFromState((()=>({list:p,user:m,loggedInUserId:d.h,media:h}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(l.d)("LIST_DETAIL"),subscribe:c.a.subscribe,unsubscribe:c.a.unsubscribe}))).withAnalytics(),b=n("f5/l"),f=n("muX9"),g=n("a5gf"),_=n("YeIG"),E=n("Tp1h"),C=n("Jkc4"),y=n("MWbm"),S=n("MtXG"),k=n("TIdA"),v=n("A91F"),x=n("rHpw"),F=n("9Xij"),A=n("t62R"),I=n("jV+4"),U=n("/yvb"),N=n("CGyZ"),L=n("v6aA"),T=n("3XMw"),P=n.n(T);const M=P.a.d58baa7e,O=P.a.ca5d0a81,R=P.a.j681933d;class B extends s.Component{constructor(...e){super(...e),o()(this,"_renderImage",(()=>{const{media:e}=this.props,{image:t}=e;if(t&&!Object(_.a)(t)){const{url:e}=t;return s.createElement(s.Fragment,null,s.createElement(f.a,null,s.createElement("meta",{content:e,property:"og:image"})),s.createElement(k.a,{accessibilityLabel:"",aspectMode:v.a.exact(3),backgroundColor:x.a.theme.colors.gray300,image:t}))}return s.createElement(F.a,{ratio:3},s.createElement(y.a,{style:W.placeholderImageContainer}))})),o()(this,"_renderListDescription",(()=>{const{list:e,user:t}=this.props;if(e){const{name:n,description:r,member_count:o,subscriber_count:i,mode:a}=e,l=i||0,c=o||0,d="private"===a;return s.createElement(y.a,{style:W.description},s.createElement(y.a,{style:[W.name,W.text]},s.createElement(A.c,{align:"center",size:"large",weight:"bold"},n.trim()),d?s.createElement(g.a,{accessibilityLabel:R,style:W.iconLock}):null),r?s.createElement(s.Fragment,null,s.createElement(f.a,null,s.createElement("meta",{content:r.trim(),property:"og:description"})),s.createElement(A.c,{align:"center",style:W.text},r.trim())):null,t?s.createElement(I.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,onLinkClick:this._handleUserNamePress,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:W.text,withLink:!0}):null,this._renderCount(l,c),this._renderActionButton())}})),o()(this,"_renderCount",((e,t)=>{const{basePath:n}=this.props,r=M(e),o=M(t);return s.createElement(S.a.Group,null,s.createElement(S.a,{count:t,link:`${n}/members`,onPress:this._handleMembersCountPress},s.createElement(P.a.I18NFormatMessage,{$i18n:"b38e130b"},s.createElement(S.a.Value,null,P.a.ibd0106d({formattedCount:o})),s.createElement(S.a.Label,null,P.a.cface2d0({count:t})))),s.createElement(S.a,{count:e,link:`${n}/followers`,onPress:this._handleSubscribersCountPress},(i=e,a=r,s.createElement(P.a.I18NFormatMessage,{$i18n:"d2924acb"},s.createElement(S.a.Value,null,P.a.ec08efe3({formattedCount:a})),s.createElement(S.a.Label,null,P.a.h9f711f0({count:i}))))));var i,a})),o()(this,"_handleEditPress",(()=>{this._scribe({element:"edit",action:"click"})})),o()(this,"_handleUserNamePress",(()=>{this._scribe({element:"user",action:"click"})})),o()(this,"_handleMembersCountPress",(()=>{this._scribe({element:"list_member",action:"click"})})),o()(this,"_handleSubscribersCountPress",(()=>{this._scribe({element:"list_subscribed",action:"click"})})),o()(this,"_handleSubscribeActions",(()=>{const{list:e,subscribe:t,unsubscribe:n,createLocalApiErrorHandler:r}=this.props;if(e){const o=e.following,s=e.id_str;Object(b.a)(r,o,s,t,n,this._scribe)}})),o()(this,"_renderActionButton",(()=>{const{basePath:e,list:t,loggedInUserId:n,user:r,withEditButton:o}=this.props;if(t&&t.user){const i=null==r?void 0:r.blocking;return t.user===n&&o?s.createElement(U.a,{link:`${e}/info`,onPress:this._handleEditPress,style:W.button,type:x.a.isVdlRefreshEnabled()?"experimentalSecondary":"secondary"},O):t.user!==n?s.createElement(y.a,{style:W.button},s.createElement(C.a,{customText:t.name,displayMode:E.a.subscribe,userFullName:r&&r.name},(e=>s.createElement(N.a,{disabled:i,isFollowing:!!t.following,onFollow:e(this._handleSubscribeActions),onUnfollow:e(this._handleSubscribeActions),showRelationshipChangeConfirmation:!1,type:"list"})))):null}})),o()(this,"_scribe",(e=>{const{analytics:t}=this.props;t.scribe(e)}))}componentDidMount(){this._scribe({action:"impression"})}render(){const{list:e,withRoundedCorners:t}=this.props;return e?s.createElement(y.a,{style:[W.container,t&&W.hoverCard]},this._renderImage(),this._renderListDescription()):null}}o()(B,"contextType",L.a),o()(B,"defaultProps",{withEditButton:!0});const W=x.a.create((e=>({container:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderStyle:"solid"},hoverCard:{borderRadius:e.borderRadii.xLarge,overflow:"hidden"},button:{marginTop:e.spaces.space20,marginBottom:e.spaces.space12},description:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,alignItems:"center"},name:{flexDirection:"row",justifyContent:"center",alignItems:"center"},iconLock:{color:e.colors.text,marginLeft:e.spaces.space2},text:{width:"100%",marginBottom:e.spaces.space12},placeholderImageContainer:{backgroundColor:e.colors.gray300,height:"100%"}}))),H=w(B);t.default=H},jHwr:function(e,t,n){"use strict";t.a=(e,t)=>{let n=null;const r=()=>{n=null,e()};return()=>(n||(n=t(r)),n)}},uvhM:function(e,t,n){"use strict";n.r(t),n.d(t,"UserProfileCardContainer",(function(){return I}));var r=n("KEM+"),o=n.n(r),s=(n("kYxP"),n("ERkP")),i=n("XnvM"),a=n("SwJK"),l=n("P1r1"),c=n("rxPX"),d=n("0KEI"),u=n("G6rE");const p=Object(u.h)([u.a]),m=(e,t)=>p(e,t.screenName),h=(e,t)=>u.e.selectByScreenName(e,t.screenName),w=(e,t)=>u.e.selectIsUserNotFound(e,t.screenName),b=(e,t)=>u.e.selectIsUserSuspended(e,t.screenName),f=(e,t)=>u.e.selectIsUserWithheld(e,t.screenName),g=(e,t)=>{const n=h(e,t);return null==n?void 0:n.highlightedLabel},_=(e,t)=>{const n=((e,t)=>u.e.selectIdByScreenName(e,t.screenName))(e,t);return{avatarUrls:a.a(e,n),count:a.b(e,n),names:a.c(e,n)}};var E=Object(c.a)().propsFromState((()=>({displaySensitiveMedia:l.k,fetchStatus:m,isNotFound:w,isSuspended:b,isWithheld:f,knownFollowers:_,user:h,userHighlightedLabel:g}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(d.d)("USER_PROFILE_CARD"),fetchOneUserByScreenNameIfNeeded:u.e.fetchOneByScreenNameIfNeeded,fetchKnownFollowersIfNeeded:i.a}))).withAnalytics(),C=n("GOQE"),y=n("kGix"),S=n("v//M"),k=n("uIZp"),v=n("Jkc4"),x=n("ZQ2e"),F=n("v6aA"),A=n("7wqI");class I extends s.Component{constructor(...e){super(...e),o()(this,"_renderUserProfileCard",(()=>{const{displaySensitiveMedia:e,isNotFound:t,isSuspended:n,isWithheld:r,knownFollowers:o,onAvatarClick:i,onScreenNameClick:a,promotedContent:l,screenName:c,user:d,userHighlightedLabel:u}=this.props;if(n)return s.createElement(x.a.Suspended,{onAvatarClick:i,onScreenNameClick:a,userScreenName:c});if(!d)return null;const{loggedInUserId:p}=this.context,m=Object(A.a)({displaySensitiveMedia:e,isNotFound:t,isSuspended:n,isWithheld:r,loggedInUserId:p,user:d}),h=!!p&&p===d.id_str,w=Object(A.b)({isOwnProfile:h,user:d});return s.createElement(v.a,null,(e=>s.createElement(x.a,{followButton:this._renderFollowUserButton(),isAllowedToViewOptions:m,isLoggedIn:!!p,isUserProtected:d.protected,isUserStatsWithLink:w,isUserVerified:d.verified,knownFollowers:o,onAvatarClick:i,onScreenNameClick:a,onUserStatsPress:e(),promotedContent:l,userAvatarUri:d.profile_image_url_https,userDescription:d.description,userEntities:d.entities,userFollowersCount:d.followers_count,userFriendsCount:d.friends_count,userHighlightedLabel:u,userId:d.id_str,userName:d.name,userScreenName:c,userTranslatorType:d.translator_type,userWithFollowsYou:d.followed_by,userWithheldDescription:d.withheld_description,userWithheldEntities:d.withheld_entities})))})),o()(this,"_renderFollowUserButton",(()=>{const{promotedContent:e,showRelationshipChangeConfirmation:t,user:n}=this.props,r=null==n?void 0:n.id_str;return r?s.createElement(k.a,{promotedContent:e,showRelationshipChangeConfirmation:t,userId:r}):void 0})),o()(this,"_handleFetchUser",(()=>{const{createLocalApiErrorHandler:e,fetchOneUserByScreenNameIfNeeded:t,screenName:n}=this.props;t(n).catch((t=>{e(C.a)(t)}))})),o()(this,"_handleFetchKnownFollowers",(()=>{const{createLocalApiErrorHandler:e,fetchKnownFollowersIfNeeded:t,user:n}=this.props,r=null==n?void 0:n.id_str;r&&t(r).catch(e({}))}))}componentDidMount(){this._handleFetchUser(),this._handleFetchKnownFollowers()}componentDidUpdate(e){var t,n;(null==(t=e.user)?void 0:t.id_str)!==(null==(n=this.props.user)?void 0:n.id_str)&&this._handleFetchKnownFollowers()}render(){const{isSuspended:e,fetchStatus:t}=this.props;return s.createElement(S.a,{fetchStatus:e?y.a.LOADED:t,onRequestRetry:this._handleFetchUser,render:this._renderUserProfileCard})}}o()(I,"contextType",F.a);const U=E(I);t.default=U},"z2a+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n("97Jx"),o=n.n(r),s=n("KEM+"),i=n.n(s),a=n("ERkP"),l=n("zfvc"),c=n("siLd"),d=n("jHwr"),u=n("VY6S"),p=n("w9LO"),m=n("TCjc"),h=n("Lsrn"),w=n("k/Ka");const b=(e={})=>Object(w.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[h.a.root,e.style],viewBox:"0 0 24 24"},a.createElement("g",null,a.createElement("path",{d:"M12.538 6.478c-.14-.146-.335-.228-.538-.228s-.396.082-.538.228l-9.252 9.53c-.21.217-.27.538-.152.815.117.277.39.458.69.458h18.5c.302 0 .573-.18.69-.457.118-.277.058-.598-.152-.814l-9.248-9.532z"})));b.metadata={width:24,height:24};var f=b,g=n("Oe3h"),_=n("0FVZ"),E=n("rHpw"),C=n("i4Oy"),y=n("shC7"),S=n("MWbm");class k extends a.Component{constructor(e,t){super(e,t),i()(this,"_renderInnerBody",(()=>{const{withArrow:e,children:t}=this.props;return a.createElement(a.Fragment,null,e&&a.createElement(f,{style:this._getArrowStyle()}),t)})),i()(this,"_setContentNode",(e=>{this._contentNode=e||void 0,this._scheduleUpdate()})),i()(this,"_handleEsc",(e=>{const{onMaskClick:t}=this.props,{altKey:n,ctrlKey:r,metaKey:o,key:s}=e;!(n||r||o)&&"Escape"===s&&t&&t()})),i()(this,"_updatePosition",(()=>{if(!this._mounted)return;const{anchorNode:e,preferredVerticalOrientation:t,withArrow:n,withFixedPosition:r}=this.props,o=E.a.theme.borderRadiiPx.large,s=Object(c.c)({anchorNode:e,contentNode:this._contentNode,preferredVerticalOrientation:t,withArrow:n,withFixedPosition:r,borderRadius:o});if(!s)return;const{arrowPositionStart:i,bottom:a,top:l,left:d,right:u}=s;this.setState({arrowPositionStart:i,bottom:a,left:d,right:u,top:l})})),this.state=Object.freeze({}),this._scheduleUpdate=Object(d.a)(this._updatePosition,window.requestAnimationFrame),this._scheduleDebouncedUpdate=Object(u.a)(this._scheduleUpdate,250)}componentDidMount(){this._mounted=!0,C.a.addEventListener("change",this._scheduleDebouncedUpdate)}componentWillUnmount(){const{onHoverCardUnmount:e}=this.props;this._mounted=!1,C.a.removeEventListener("change",this._scheduleDebouncedUpdate),e&&e()}render(){const{onAnimateComplete:e,onMaskClick:t,show:n,withFixedPosition:r,withFocusContainer:s,withMask:i,withRoundedSides:c}=this.props,{bottom:d,top:u,left:h,right:w}=this.state,b=void 0===u&&void 0===d,f=b||!s?a.Fragment:p.a,E={top:u,bottom:d,left:h,right:w},C=[b?v.initialRenderWrapper:r?v.contentWrapperFixed:v.contentWrapperAbsolute,E],y=c?v.infiniteCornerRadius:v.defaultCornerRadius;return a.createElement(_.a.Dropdown,null,a.createElement(m.a.Provider,{value:{isInHoverCard:!0}},t?a.createElement(S.a,{onClick:t,style:[v.mask,i&&v.withMask]}):null,a.createElement(S.a,{onKeyUp:this._handleEsc,ref:this._setContentNode,style:C},a.createElement(f,null,a.createElement(l.b,{animateMount:!0,duration:"long",onAnimateComplete:e,show:n,type:"fade"},(({isAnimating:e})=>i?a.createElement(S.a,{style:[v.contentRoot,y]},this._renderInnerBody()):a.createElement(g.a,{id:"HoverCard",minimizeReporting:e},((e,t)=>a.createElement(S.a,o()({ref:e()},t({style:[v.contentRoot,y]})),this._renderInnerBody())))))))))}_getArrowStyle(){const{arrowPositionStart:e,bottom:t}=this.state;let n;if(e){n=[v.arrow,t?v.downArrow:v.upArrow];const r=`calc(${e}px - ${f.metadata.width/2}px)`;y.a.getConstants().isRTL?n.push({right:r}):n.push({left:r})}return n}}const v=E.a.create((e=>({arrow:{color:e.colors.cellBackground,filter:`drop-shadow(${e.spaces.space1} -${e.spaces.space1} ${e.spaces.space1} ${e.colors.gray200})`,fontSize:e.fontSizes.subtext2,position:"absolute",width:`${f.metadata.width}px`},contentWrapperAbsolute:{position:"absolute"},contentWrapperFixed:{backfaceVisibility:"hidden",position:"fixed"},initialRenderWrapper:{opacity:0,position:"fixed"},contentRoot:{backgroundColor:e.colors.cellBackground,boxShadow:e.boxShadows.medium},defaultCornerRadius:{borderRadius:e.borderRadii.xLarge},infiniteCornerRadius:{borderRadius:e.borderRadii.infinite},mask:{...E.a.absoluteFillObject,position:"fixed"},withMask:{backgroundColor:e.colors.maskColor},downArrow:{bottom:`-${e.fontSizes.subtext3}`,transform:"rotate(180deg)"},upArrow:{top:`-${e.fontSizes.subtext3}`}})))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.HoverCard.53582b35.js.map